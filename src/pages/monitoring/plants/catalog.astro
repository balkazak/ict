---
import Layout from "@/layouts/Layout.astro";
import ProductCard from "@/components/ProductCard.astro";
import sapFlowSensor from "@/assets/monitoring/plant/sap-flow-sensor.webp";
import sfmxSensor from "@/assets/monitoring/plant/sfmx-sensor.webp";
import psychrometer from "@/assets/monitoring/plant/psychrometer.webp";
import psy1Sensor from "@/assets/monitoring/plant/psy1-sensor.webp";
import fruitDendrometer from "@/assets/monitoring/plant/fruit-dendrometer.jpeg";
import pivotDendrometer from "@/assets/monitoring/plant/pivot-dendrometer.jpeg";
import chlorophyllMeter from "@/assets/monitoring/plant/chlorophyll-meter.jpg";
import canopyImager from "@/assets/monitoring/plant/canopy-imager.jpg";
---

<Layout title="Каталог оборудования для мониторинга растений | ICT Central Asia">
  <section class="bg-base-200 py-16">
    <div class="container mx-auto max-w-7xl px-4 py-8">
      <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">Каталог оборудования для мониторинга растений</h1>
        <p class="text-gray-600 mb-6">Профессиональное оборудование для анализа физиологии растений, водопотребления и диагностики</p>
        
        <div class="flex flex-wrap gap-4 mb-6">
          <button id="filter-all" class="filter-btn px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-blue-600 text-white">
            Все категории
          </button>
          <button id="filter-water" class="filter-btn px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300">
            Потребление воды
          </button>
          <button id="filter-growth" class="filter-btn px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300">
            Рост деревьев
          </button>
          <button id="filter-root" class="filter-btn px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300">
            Визуализация корней
          </button>
          <button id="filter-diagnostics" class="filter-btn px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300">
            Диагностика (томография, резистограф)
          </button>
          <button id="filter-photosynthesis" class="filter-btn px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300">
            Фотосинтез
          </button>
          <button id="filter-canopy" class="filter-btn px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300">
            Измерение крон
          </button>
        </div>
        
        <div class="relative">
          <input 
            id="search-input"
            type="text" 
            placeholder="Поиск по названию или описанию..."
            class="w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          >
          <svg class="absolute left-3 top-2.5 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>
      
      <div id="equipment-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <ProductCard id="sdi-12-sap-flow" name="SDI-12 Sap Flow Sensor" image={sapFlowSensor} overview="Датчик сокодвижения SDI-12 объединяет функциональные возможности приборов SFM1 и SFMx в совместимом с SDI-12 формате, предназначенном для измерения водопотребления растений." features="• Измерение водопотребления растений (в литрах) — как для сельскохозяйственных культур, так и для деревьев<br>• Доступен в версиях SDI-12 (v1.4) или RS485 для использования с распространёнными SDI-12 регистраторами данных<br>• Сменные иглы для различных видов растений и сельскохозяйственных культур<br>• Области применения: планирование полива, подбор видов растений, экофизиологические исследования растений, изменение климата и оценка запасов углерода в лесах" specifications={[{name: 'Метод измерения', value: 'Метод теплового соотношения (Heat Ratio Method)'}, {name: 'Интерфейс', value: 'SDI-12 (v1.4) или RS485'}, {name: 'Применение', value: 'Сельскохозяйственные культуры и деревья'}]} />
        <ProductCard id="sfmx-sap-flow" name="SFMx Sap Flow Meter with IoT connectivity" image={sfmxSensor} overview="Измеритель сокодвижения SFMx — это мощный датчик для измерения водопотребления деревьев и растений. Измеряя движение воды через ксилему в области сокодвижения в дереве, измерение сокодвижения позволяет количественно оценить потребности растения или дерева в воде." features="• Непрерывное измерение водопотребления растений (в литрах) для сельскохозяйственных культур и деревьев<br>• Прочный датчик и автономный измеритель с встроенными расчётами и интеллектуальным управлением питанием<br>• Доступен с коммуникацией LoRaWAN или Cat-M1/NB-IoT<br>• Сменные иглы для различных применений в сельском и лесном хозяйстве <br>• Области применения: планирование полива, подбор видов, экофизиологические исследования растений, изменение климата и оценка углеродных запасов в лесах" specifications={[{name: 'Диаметр/Длина иглы', value: '1.3 мм / 35мм'}, {name: 'Дистанции измерения', value: '7.5 мм и 22.5 мм от острия иглы'}, {name: 'Диапазон измерений', value: '-70 ~ +70 см/ч'}, {name: 'Разрешение / Точность', value: '0.01 см/ч / 0.5 см/ч'}, {name: 'Продолжительность измерений', value: '120 сек'}, {name: 'Тепловой импульс', value: '20 джоулей (типично)'}, {name: 'Интервал регистрации', value: 'Минимум 10 минут'}]} />
        <ProductCard id="sdi-12-psychrometer" name="SDI-12 Psychrometer" image={psychrometer} overview="SDI-12 Психрометр обеспечивает функциональность измерений психрометра PSY1 в формате совместимого с SDI-12 датчика для измерения водного потенциала растений." features="• Непрерывное измерение водного потенциала растений в мегапаскалях (МПа) — как для стеблей, так и для листьев<br>• Применение: выбор видов растений, эксперименты на устойчивость к засухе, общая оценка водного состояния растений<br>• Выходной интерфейс SDI-12 (версия 1.4) идеально подходит для лабораторных задач с использованием стандартных регистраторов данных" specifications={[{name: 'Интерфейс', value: 'SDI-12 (версия 1.4)'}, {name: 'Измерение', value: 'Водный потенциал растений (МПа)'}, {name: 'Применение', value: 'Стебли и листья растений'}]} />
        <ProductCard id="psy1-psychrometer" name="PSY1 Psychrometer (Stem & Leaf)" image={psy1Sensor} overview="Психрометр ICT International — это уникальное, неразрушающее, автономное и предназначенное для работы in-situ устройство для регистрации водного потенциала растений (или водного стресса). Основанный на исследованиях Диксона и Тайри (1984), психрометр PSY1 представляет собой научно обоснованный и широко признанный метод непрерывного измерения водного потенциала растений." features="• Непрерывное измерение водного потенциала в мегапаскалях (МПа) — для стеблей и листьев<br>• Применение: подбор видов растений, эксперименты по устойчивости к засухе, общая оценка водного состояния растений<br>• Автономное устройство с встроенными вычислениями<br>• Подтверждённая эффективность в научных исследованиях на многих видах растений в течение многих лет<br><br>В отличие от камеры давления Шоландера, психрометр PSY1 позволяет выполнять непрерывные измерения водного потенциала каждые 10 минут, без повреждения растения. Полученные временные ряды можно объединять с другими данными для оценки состояния системы 'почва–растение–атмосфера'." specifications={[{name: 'Тип камеры', value: 'Для стебля или для листа'}, {name: 'Минимальный диаметр стебля', value: '10 мм (для камеры стебля)'}, {name: 'Интервал измерений', value: '10 минут'}, {name: 'Метод', value: 'Неразрушающий'}]} />
        <ProductCard id="fruit-dendrometer" name="DF Fruit Dendrometer" image={fruitDendrometer} overview="Экоматиковские фруктовые дендрометры измеряют диаметр плодов менее 11 см (более 11 см по запросу) для моделей DF1 и DF2, в то время как модель DF3 измеряет до 30 см. Эти приборы широко используются для управления размером плодов, стратегий использования ирригационной воды и удобрений, а также для исследований темпов роста растений и распределения углерода." features="Все дендрометры поставляются с кабелем датчика длиной 5 м с обнаженными концами, который можно удлинить до 100 м." specifications={[{name: 'DF1', value: 'Стандартные рамки для диаметров <11 см, диапазон измерения 15 мм, линейность <2%'}, {name: 'DF2', value: 'Стандартные рамки для диаметров <11 см, диапазон измерения 25 мм, линейность <1%'}, {name: 'DF3', value: 'Стандартные рамки для диаметров <30 см, диапазон измерения 50 мм, линейность 0.5%'}, {name: 'Длина кабеля', value: '5 м (стандарт), до 100 м (опционально)'}]} />
        <ProductCard id="pivot-dendrometer" name="DP40 Pivot Dendrometer" image={pivotDendrometer} overview="Поворотные дендрометры легко устанавливаются и идеально подходят для мониторинга отдельных ветвей деревьев. Они измеряют изменения окружности ствола в диапазоне от 5 мм до 40 мм с точностью 0,5%. Поворотные дендрометры сконструированы таким образом, чтобы не зависеть от изменений температуры." features="Благодаря версиям с интерфейсом SDI-12 и выходом напряжения (DPS40 и DPV40 соответственно), а также модели с собственным регистратором данных (DPL40), поворотные дендрометры легко интегрируются в системы мониторинга для контроля состояния деревьев и растений." specifications={[{name: 'Диапазон измерения', value: '5 – 40 мм'}, {name: 'Точность', value: '> 0.5 мм'}, {name: 'Линейность', value: '± 0.5 % от полного диапазона'}, {name: 'Разрешение', value: '1.24 мкм'}, {name: 'Напряжение питания', value: '5 – 12 В'}, {name: 'Рабочий температурный диапазон', value: '-40 до +60 °C'}]} />
        <ProductCard id="chlorophyll-meter" name="Apogee MC-100 Chlorophyll Concentration Meter" image={chlorophyllMeter} overview="Портативный прибор Apogee MC-100 измеряет концентрацию хлорофилла в площади листа данного растения. Метр обладает характеристиками, включающими растущую базу данных, содержащую более 30 настроек для различных видов растений." features="Прибор Apogee MC-100 предоставляет:<br>• Неразрушающие измерения<br>• Переменная площадь выборки<br>• Предустановленные виды растений<br>• Емкость для хранения данных и встроенный GPS<br><br>Выходные единицы измерения: µmol m⁻² листа, CCI или SPAD." specifications={[{name: 'Метод измерения', value: 'Неразрушающий'}, {name: 'Единицы измерения', value: 'µmol m⁻², CCI или SPAD'}, {name: 'База данных', value: 'Более 30 видов растений'}, {name: 'Дополнительно', value: 'Встроенный GPS, хранение данных'}]} />
        <ProductCard id="canopy-imager" name="CI-110 Plant Canopy Imager" image={canopyImager} overview="Индекс площади листьев (LAI) и фотосинтетически активное излучение (PAR) являются ключевыми физиологическими параметрами растений для оценки темпов роста растений. Измеритель полога растений – с 24 PAR-щупами для измерений индекса площади листьев (LAI) и фотосинтетически активного излучения (PAR) предоставляет данные по этим ключевым параметрам." features="CI-110 включает в себя зонд для съемки изображений, сенсорный экран с установленным программным обеспечением для захвата изображений, руководство по эксплуатации и чехол для прибора.<br><br>Цифровая платформа CI-110 позволяет одновременно захватывать изображения широкоугольного полога растения и оценивать индекс площади листьев (LAI) и уровни фотосинтетически активного излучения (PAR) с одного сканирования полога. Нет необходимости в проведении нескольких сканирований выше и ниже полога.<br><br>Выполняемые расчеты:<br>• Индекс площади листьев (LAI)<br>• Средний угол наклона листвы<br>• Солнечные пятна — доля видимого неба из-под полога<br>• Фотосинтетически активное излучение (PAR)" specifications={[{name: 'Объектив', value: 'Самовыравнивающийся полусферический объектив'}, {name: 'Разрешение изображения', value: '8 мегапикселей'}, {name: 'Интерфейс', value: 'USB и Wifi'}, {name: 'Время измерения', value: '< 1 секунда'}, {name: 'Угол объектива', value: '150°'}, {name: 'Температурный диапазон', value: '5 до 50°C'}, {name: 'Вес зонда и руки для съемки', value: '1,5 кг'}, {name: 'PAR (Диапазон / Точность)', value: '0-2500 мкмоль м²с / 5 мкмоль м²с'}]} />
      </div>
      
      <div id="no-results" class="hidden text-center py-12">
        <svg class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47-.881-6.08-2.33"></path>
        </svg>
        <h3 class="text-lg font-medium text-gray-900 mb-2">Ничего не найдено</h3>
        <p class="text-gray-500">Попробуйте изменить критерии поиска</p>
      </div>
    </div>
    
    <div id="equipment-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 bg-black bg-opacity-50">
      <div class="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto">
        <div class="sticky top-0 bg-white border-b p-6 flex justify-between items-center">
          <h2 id="modal-title" class="text-2xl font-bold text-gray-900"></h2>
          <button id="close-modal" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div id="modal-content" class="p-6"></div>
      </div>
    </div>
  </section>
</Layout>

<script>
  const allPlantsEquipment = [
    {
      id: 'sdi12-sap-flow',
      name: 'SDI-12 Sap Flow Sensor',
      category: 'water',
      subcategory: 'Датчики сокодвижения',
      image: 'https://via.placeholder.com/400x300/10B981/FFFFFF?text=SDI-12+Sap+Flow',
      shortDescription: 'Датчик сокодвижения для измерения водопотребления растений',
      features: [
        'Измерение водопотребления в литрах',
        'Совместимость с SDI-12 v1.4 и RS485',
        'Сменные иглы для различных видов растений',
        'Метод теплового соотношения (HRM)',
        'Минимальное энергопотребление'
      ],
      specifications: {
        'Интерфейс': 'SDI-12 v1.4 / RS485',
        'Метод измерения': 'Heat Ratio Method (HRM)',
        'Применение': 'Сельскохозяйственные культуры и деревья',
        'Иглы': 'Сменные для разных видов растений',
        'Энергопотребление': 'Минимальное'
      },
      applications: [
        'Планирование полива',
        'Подбор видов растений',
        'Экофизиологические исследования',
        'Изучение изменения климата',
        'Оценка запасов углерода в лесах'
      ]
    },
    {
      id: 'sfmx-iot',
      name: 'SFMx Sap Flow Meter с IoT',
      category: 'water',
      subcategory: 'Измерители сокодвижения',
      image: 'https://via.placeholder.com/400x300/10B981/FFFFFF?text=SFMx+IoT',
      shortDescription: 'Измеритель сокодвижения с поддержкой IoT-подключения',
      features: [
        'IoT-подключение для удаленного мониторинга',
        'Портативный дизайн',
        'Расширенные возможности анализа',
        'Автоматическая передача данных',
        'Совместимость с облачными платформами'
      ],
      specifications: {
        'Подключение': 'IoT / Wi-Fi / Cellular',
        'Тип': 'Портативный',
        'Метод': 'Heat Ratio Method',
        'Передача данных': 'Автоматическая',
        'Платформы': 'Облачные сервисы'
      },
      applications: [
        'Удаленный мониторинг лесов',
        'Автоматизированные системы полива',
        'Исследования водного стресса',
        'Мониторинг городских насаждений',
        'Научные исследования'
      ]
    },
    {
      id: 'mc100-chlorophyll',
      name: 'Apogee MC-100 Chlorophyll Meter',
      category: 'canopy',
      subcategory: 'Измерители хлорофилла',
      image: 'https://via.placeholder.com/400x300/F59E0B/FFFFFF?text=MC-100',
      shortDescription: 'Портативный измеритель концентрации хлорофилла в листьях',
      features: [
        'Неразрушающие измерения',
        'Переменная площадь выборки',
        'База данных с 30+ видами растений',
        'Встроенный GPS',
        'Емкость для хранения данных'
      ],
      specifications: {
        'Выходные единицы': 'µmol m⁻² листа, CCI, SPAD',
        'Виды растений': '30+ предустановленных настроек',
        'GPS': 'Встроенный',
        'Тип измерений': 'Неразрушающие',
        'Площадь выборки': 'Переменная'
      },
      applications: [
        'Оценка состояния растений',
        'Мониторинг питания растений',
        'Сельскохозяйственные исследования',
        'Контроль качества урожая',
        'Экологические исследования'
      ]
    },
    {
      id: 'gas-exchange-3010',
      name: '3010-GWK1 Gas-Exchange Chamber',
      category: 'canopy',
      subcategory: 'Камеры газообмена',
      image: 'https://via.placeholder.com/400x300/F59E0B/FFFFFF?text=Gas+Exchange',
      shortDescription: 'Камера газообмена для измерений фотосинтеза и дыхания растений',
      features: [
        'Контроль температуры элементами Пельтье',
        'Рабочая зона 14 см x 10 см',
        'Датчики температуры листа и кюветы',
        'Измерение PAR внутри и снаружи',
        'Поперечная вентиляция кюветы'
      ],
      specifications: {
        'Рабочая зона': '14 см x 10 см',
        'Контроль температуры': '10°C ниже окружающей до +50°C',
        'Внутренний объем': '840 мл + 250 мл',
        'Материал': 'Никелированный алюминий, латунь',
        'Охлаждение': 'Воздушно-охлаждаемые элементы Пельтье'
      },
      applications: [
        'Измерение фотосинтеза',
        'Исследование дыхания растений',
        'Лабораторные эксперименты',
        'Физиологические исследования',
        'Изучение газообмена'
      ]
    },
    {
      id: 'gfs3000-system',
      name: 'GFS-3000 Gas Exchange System',
      category: 'canopy',
      subcategory: 'Системы газообмена',
      image: 'https://via.placeholder.com/400x300/F59E0B/FFFFFF?text=GFS-3000',
      shortDescription: 'Система газообмена и флуоресценции для комплексного анализа',
      features: [
        'Измерение CO2 и H2O',
        'Хлорофилловая флуоресценция',
        'Контролируемые климатические условия',
        'Цветной сенсорный дисплей',
        'Li-ion батареи на 6-9 часов работы'
      ],
      specifications: {
        'Анализатор газа': '4-канальный CO2/H2O',
        'CO2 диапазон': '0-3000 ppm',
        'H2O диапазон': '0-75000 ppm',
        'Поток': '300-1400 μmol s⁻¹',
        'Площадь листа': 'до 8 см²'
      },
      applications: [
        'Исследования фотосинтеза',
        'Анализ флуоресценции хлорофилла',
        'Полевые измерения',
        'Лабораторные исследования',
        'Физиология растений'
      ]
    },
    {
      id: 'ci110-canopy',
      name: 'CI-110 Plant Canopy Imager',
      category: 'canopy',
      subcategory: 'Измерители полога',
      image: 'https://via.placeholder.com/400x300/F59E0B/FFFFFF?text=CI-110',
      shortDescription: 'Измеритель полога растений с 24 PAR-щупами',
      features: [
        '24 PAR-щупа для точных измерений',
        'Измерение индекса площади листьев (LAI)',
        'Фотосинтетически активное излучение (PAR)',
        'Зонд для съемки изображений',
        'Сенсорный экран с ПО'
      ],
      specifications: {
        'PAR-щупы': '24 штуки',
        'Измерения': 'LAI и PAR',
        'Интерфейс': 'Сенсорный экран',
        'ПО': 'Встроенное для захвата изображений',
        'Комплектация': 'Зонд, экран, руководство, чехол'
      },
      applications: [
        'Оценка темпов роста растений',
        'Измерение LAI',
        'Анализ структуры полога',
        'Сельскохозяйственные исследования',
        'Лесные исследования'
      ]
    },
    {
      id: 'sf110-frost',
      name: 'SF-110/SF-421 Frost Sensor',
      category: 'canopy',
      subcategory: 'Датчики температуры листа',
      image: 'https://via.placeholder.com/400x300/F59E0B/FFFFFF?text=Frost+Sensor',
      shortDescription: 'Датчик мороза, имитирующий структуру листа',
      features: [
        'Имитация структуры листа',
        'Точный термистр',
        'Диапазон -50 до +70°C',
        'Кабель 5 метров',
        'Выбор аналогового или SDI-12 выхода'
      ],
      specifications: {
        'Диапазон температур': '-50 до +70°C',
        'Кабель': '5 метров',
        'SF-110-SS': 'Аналоговый выход',
        'SF-421-SS': 'SDI-12 выход',
        'Сенсор': 'Точный термистр'
      },
      applications: [
        'Мониторинг заморозков',
        'Сельскохозяйственные поля',
        'Сады и виноградники',
        'Защита от заморозков',
        'Метеорологические станции'
      ]
    },
    {
      id: 'arbotom-tomography',
      name: 'ARBOTOM Tomography System',
      category: 'diagnostics',
      subcategory: 'Томография деревьев',
      image: 'https://via.placeholder.com/400x300/EF4444/FFFFFF?text=ARBOTOM',
      shortDescription: 'Система сонографической томографии для диагностики деревьев',
      features: [
        'Сонографическая томография',
        'Неразрушающая диагностика',
        'Визуализация внутренней структуры',
        'Обнаружение гнили и полостей',
        'Профессиональное программное обеспечение'
      ],
      specifications: {
        'Метод': 'Сонографическая томография',
        'Тип диагностики': 'Неразрушающая',
        'Применение': 'Стволы и корни деревьев',
        'ПО': 'Специализированное для анализа',
        'Точность': 'Высокая детализация'
      },
      applications: [
        'Арбористика',
        'Научные исследования',
        'Оценка состояния деревьев',
        'Городское лесоводство',
        'Диагностика повреждений'
      ]
    },
    {
      id: 'resistograph',
      name: 'RESISTOGRAPH Tree Analyzer',
      category: 'diagnostics',
      subcategory: 'Анализаторы сопротивления',
      image: 'https://via.placeholder.com/400x300/EF4444/FFFFFF?text=RESISTOGRAPH',
      shortDescription: 'Прецизионный анализатор сопротивления древесины при сверлении',
      features: [
        'Глубина сверления до 50 см',
        'Вес всего 4 кг',
        'Работа одной рукой',
        'Встроенный принтер',
        'Память на 10,000 измерений'
      ],
      specifications: {
        'Глубина сверления': 'до 50 см',
        'Общая длина': '70 см',
        'Вес': '4 кг',
        'Память': '10,000 измерений',
        'Принтер': 'Встроенный, масштаб 1:1'
      },
      applications: [
        'Оценка прочности древесины',
        'Обнаружение гнили',
        'Инспекция деревьев',
        'Строительная экспертиза',
        'Научные исследования'
      ]
    },
    {
      id: 'ampha-p20',
      name: 'Ampha P20 Pollen Analyzer',
      category: 'analysis',
      subcategory: 'Анализаторы пыльцы',
      image: 'https://via.placeholder.com/400x300/8B5CF6/FFFFFF?text=Ampha+P20',
      shortDescription: 'Портативный анализатор пыльцы с микрочипами',
      features: [
        'Портативный и автономный',
        'Специализированные микрочипы',
        'Сенсорный экран',
        'Пошаговый помощник',
        'Сохранение и анализ данных'
      ],
      specifications: {
        'Тип': 'Портативный анализатор',
        'Микрочипы': 'Томат, перец, кукуруза, пшеница',
        'Интерфейс': 'Сенсорный экран',
        'ПО': 'AmphaSoft для детального анализа',
        'Применение': 'Фенотипирование и контроль качества'
      },
      applications: [
        'Селекция растений',
        'Научные исследования',
        'Производство пыльцы',
        'Контроль качества',
        'Фенотипирование'
      ]
    },
    {
      id: 'ampha-z40',
      name: 'Ampha Z40 Flow Cytometer',
      category: 'analysis',
      subcategory: 'Проточные цитометры',
      image: 'https://via.placeholder.com/400x300/8B5CF6/FFFFFF?text=Ampha+Z40',
      shortDescription: 'Импедансный проточный цитометр для анализа пыльцы',
      features: [
        'Анализ жизнеспособности пыльцы',
        'Определение концентрации',
        'Стадии развития микроспор',
        'Анализ плоидности',
        'Поддержка 250+ видов растений'
      ],
      specifications: {
        'Виды растений': '250+ поддерживаемых',
        'Чипы': 'AmphaChip 12-400 μm',
        'Анализ': 'Жизнеспособность, концентрация, плоидность',
        'ПО': 'AmphaSoft для анализа данных',
        'Применение': 'Селекция и производство семян'
      },
      applications: [
        'Селекция растений',
        'Производство семян',
        'Генетический отбор',
        'Контроль качества пыльцы',
        'Научные исследования'
      ]
    },
    {
      id: 'ci600-root',
      name: 'CI-600/CI-602 Root Imager',
      category: 'diagnostics',
      subcategory: 'Визуализация корней',
      image: 'https://via.placeholder.com/400x300/EF4444/FFFFFF?text=Root+Imager',
      shortDescription: 'Импедансные корневые имиджеры для визуализации корневой системы',
      features: [
        'Неразрушающая визуализация корней',
        'Высокое разрешение изображений',
        'Анализ архитектуры корней',
        'Мониторинг роста корней',
        'Портативный дизайн'
      ],
      specifications: {
        'Метод': 'Импедансная визуализация',
        'Разрешение': 'Высокое',
        'Применение': 'In-situ измерения',
        'Анализ': 'Архитектура и рост корней',
        'Тип': 'Неразрушающий'
      },
      applications: [
        'Исследования корневых систем',
        'Мониторинг роста корней',
        'Сельскохозяйственные исследования',
        'Экологические исследования',
        'Селекция растений'
      ]
    }
  ];

  let currentFilter = 'all';
  let currentSearch = '';

  const getCategoryName = (category) => {
    const names = {
      water: 'Потребление воды',
      canopy: 'Измерение крон',
      diagnostics: 'Диагностика',
      analysis: 'Анализ'
    };
    return names[category] || category;
  };

  const createEquipmentCard = (equipment) => {
    return `
      <div class="equipment-card bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer" data-id="${equipment.id}">
        <div class="relative">
          <img src="${equipment.image}" alt="${equipment.name}" class="w-full h-48 object-cover rounded-t-lg bg-gray-200">
          <div class="absolute top-2 right-2">
            <span class="bg-green-600 text-white px-2 py-1 rounded-full text-xs font-medium">
              ${getCategoryName(equipment.category)}
            </span>
          </div>
        </div>
        
        <div class="p-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-2">${equipment.name}</h3>
          <p class="text-sm text-green-600 mb-3">${equipment.subcategory}</p>
          <p class="text-gray-700 mb-4 line-clamp-3">${equipment.shortDescription}</p>
          
          <div class="flex flex-wrap gap-2 mb-4">
            ${equipment.features.slice(0, 2).map(feature => 
              `<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs">
                ${feature.length > 30 ? feature.substring(0, 30) + '...' : feature}
              </span>`
            ).join('')}
            ${equipment.features.length > 2 ? 
              `<span class="bg-green-100 text-green-700 px-2 py-1 rounded text-xs">
                +${equipment.features.length - 2} еще
              </span>` : ''
            }
          </div>
          
          <button class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors duration-200">
            Подробнее
          </button>
        </div>
      </div>
    `;
  };

  const createModalContent = (equipment) => {
    return `
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div>
          <img src="${equipment.image}" alt="${equipment.name}" class="w-full h-64 object-cover rounded-lg mb-4">
          <div class="bg-green-50 p-4 rounded-lg">
            <h3 class="font-semibold text-green-900 mb-2">Категория</h3>
            <p class="text-green-800">${equipment.subcategory}</p>
          </div>
        </div>
        
        <div>
          <h3 class="text-xl font-semibold mb-4">Описание</h3>
          <p class="text-gray-700 mb-6">${equipment.shortDescription}</p>
          
          <h3 class="text-xl font-semibold mb-4">Ключевые особенности</h3>
          <ul class="space-y-2 mb-6">
            ${equipment.features.map(feature => 
              `<li class="flex items-start">
                <svg class="w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700">${feature}</span>
              </li>`
            ).join('')}
          </ul>
          
          <h3 class="text-xl font-semibold mb-4">Технические характеристики</h3>
          <div class="bg-gray-50 p-4 rounded-lg mb-6">
            ${Object.entries(equipment.specifications).map(([key, value]) => 
              `<div class="flex justify-between py-2 border-b border-gray-200 last:border-b-0">
                <span class="font-medium text-gray-600">${key}:</span>
                <span class="text-gray-900">${value}</span>
              </div>`
            ).join('')}
          </div>
          
          <h3 class="text-xl font-semibold mb-4">Области применения</h3>
          <div class="flex flex-wrap gap-2">
            ${equipment.applications.map(app => 
              `<span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">${app}</span>`
            ).join('')}
          </div>
        </div>
      </div>
    `;
  };

  const renderEquipment = () => {
    const equipmentGrid = document.getElementById('equipment-grid');
    const noResults = document.getElementById('no-results');
    
    let filtered = allPlantsEquipment;
    
    if (currentFilter !== 'all') {
      filtered = filtered.filter(item => item.category === currentFilter);
    }
    
    if (currentSearch.trim()) {
      const query = currentSearch.toLowerCase().trim();
      filtered = filtered.filter(item => 
        item.name.toLowerCase().includes(query) ||
        item.shortDescription.toLowerCase().includes(query) ||
        item.subcategory.toLowerCase().includes(query) ||
        item.features.some(feature => feature.toLowerCase().includes(query))
      );
    }
    
    if (filtered.length === 0) {
      equipmentGrid.innerHTML = '';
      noResults.classList.remove('hidden');
    } else {
      equipmentGrid.innerHTML = filtered.map(createEquipmentCard).join('');
      noResults.classList.add('hidden');
    }
  };

  document.addEventListener('DOMContentLoaded', () => {
    const equipmentGrid = document.getElementById('equipment-grid');
    const modal = document.getElementById('equipment-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalContent = document.getElementById('modal-content');
    const closeModal = document.getElementById('close-modal');
    const searchInput = document.getElementById('search-input');
    const noResults = document.getElementById('no-results');

    renderEquipment();

    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        document.querySelectorAll('.filter-btn').forEach(b => {
          b.classList.remove('bg-blue-600', 'text-white');
          b.classList.add('bg-gray-200', 'text-gray-700');
        });
        
        e.target.classList.remove('bg-gray-200', 'text-gray-700');
        e.target.classList.add('bg-blue-600', 'text-white');
        
        currentFilter = e.target.id.replace('filter-', '');
        renderEquipment();
      });
    });

    searchInput.addEventListener('input', (e) => {
      currentSearch = e.target.value;
      renderEquipment();
    });

    equipmentGrid.addEventListener('click', (e) => {
      const card = e.target.closest('.equipment-card');
      if (card) {
        const equipmentId = card.dataset.id;
        const equipment = allPlantsEquipment.find(eq => eq.id === equipmentId);
        
        if (equipment) {
          modalTitle.textContent = equipment.name;
          modalContent.innerHTML = createModalContent(equipment);
          modal.classList.remove('hidden');
          modal.classList.add('flex');
          document.body.style.overflow = 'hidden';
        }
      }
    });

    const closeModalHandler = () => {
      modal.classList.add('hidden');
      modal.classList.remove('flex');
      document.body.style.overflow = '';
    };

    closeModal.addEventListener('click', closeModalHandler);
    
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        closeModalHandler();
      }
    });
  });
</script>

<style>
.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
</style> 