---
import Layout from "@/layouts/Layout.astro";
import { Icon } from "astro-icon/components";
---

<Layout title="Контакты | ICT Central Asia">
  <main class="overflow-hidden">
    <!-- Hero Section -->
    <section class="relative bg-gradient-to-b from-[#004D40] to-[#003833] text-white py-24">
      <!-- Animated background elements -->
      <div class="circuit-pattern"></div>
      <div class="eco-particles"></div>
      
      <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-4xl mx-auto text-center" data-aos="fade-up">
          <div class="eco-badge mb-6 inline-block">
            <span>Контакты</span>
          </div>
          <h1 class="text-4xl md:text-6xl font-bold mb-8 leading-tight">
            Свяжитесь с <span class="text-[#C9E265]">нами</span>
          </h1>
          <p class="text-xl md:text-2xl mb-12 text-gray-100 leading-relaxed">
            Мы готовы ответить на ваши вопросы и обсудить возможности сотрудничества
          </p>
        </div>
      </div>
      
      <!-- Animated wave overlay -->
      <div class="absolute bottom-0 left-0 right-0">
        <svg class="waves" xmlns="http://www.w3.org/2000/svg" viewBox="0 24 150 28" preserveAspectRatio="none">
          <defs>
            <path id="wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18v44h-352z" />
          </defs>
          <g class="wave-parallax">
            <use href="#wave" x="48" y="0" fill="rgba(240, 250, 249, 0.2)" />
            <use href="#wave" x="48" y="3" fill="rgba(240, 250, 249, 0.15)" />
            <use href="#wave" x="48" y="5" fill="rgba(240, 250, 249, 0.1)" />
            <use href="#wave" x="48" y="7" fill="rgba(240, 250, 249, 0.05)" />
          </g>
        </svg>
      </div>
    </section>

    <!-- Contact Cards Section -->
    <section class="relative bg-gradient-to-b from-[#F0FAF9] to-white py-24">
      <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-5xl mx-auto">
          <div class="grid md:grid-cols-2 gap-8">
            <!-- Contact Card -->
            <div class="contact-card" data-aos="fade-up" data-aos-delay="100">
              <div class="contact-card-inner">
                <div class="contact-card-bg"></div>
                <div class="contact-content">
                  <h3 class="text-2xl font-bold text-white mb-6">Курманов Ануар</h3>
                  <p class="text-xl text-white/90 mb-2">Директор по развитию</p>
                  
                  <div class="mt-8 space-y-4">
                    <div class="flex items-center">
                      <div class="contact-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                        </svg>
                      </div>
                      <a href="tel:+77471568692" class="text-white hover:text-[#C9E265] transition-colors ml-4">
                        +7747 156 86 92
                      </a>
                    </div>
                    
                    <div class="flex items-center">
                      <div class="contact-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                      </div>
                      <a href="mailto:a.kurmanov@ict-ca.kz" class="text-white hover:text-[#C9E265] transition-colors ml-4">
                        a.kurmanov@ict-ca.kz
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Contact Form -->
            <div class="contact-form-card" data-aos="fade-up" data-aos-delay="200">
              <h3 class="text-2xl font-bold text-[#004D40] mb-6">Отправить сообщение</h3>
              
              <form action="https://formspree.io/f/mnndrzqo" method="POST" class="space-y-6">
                <div>
                  <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Имя</label>
                  <input type="text" id="name" name="name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0A7B76] focus:border-[#0A7B76] transition-colors" placeholder="Ваше имя" required>
                </div>
                
                <div>
                  <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                  <input type="email" id="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0A7B76] focus:border-[#0A7B76] transition-colors" placeholder="Ваш email" required>
                </div>
                
                <div>
                  <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Сообщение</label>
                  <textarea id="message" name="message" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0A7B76] focus:border-[#0A7B76] transition-colors" placeholder="Ваше сообщение" required></textarea>
                </div>
                
                <div class="hidden">
                  <input type="text" name="_gotcha" style="display:none" />
                </div>
                
                <button type="submit" class="w-full bg-[#0A7B76] text-white font-bold py-3 px-6 rounded-lg transition-all transform hover:bg-[#004D40] hover:scale-105 hover:shadow-lg">
                  Отправить
                </button>
              </form>
              <div id="form-success" class="mt-4 p-4 bg-green-100 text-green-800 rounded-lg hidden">
                Спасибо! Ваше сообщение успешно отправлено.
              </div>
              <div id="form-error" class="mt-4 p-4 bg-red-100 text-red-800 rounded-lg hidden">
                Произошла ошибка при отправке сообщения. Пожалуйста, попробуйте еще раз.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Map Section -->
    <section class="relative py-16">
      <div class="container mx-auto px-4">
        <div class="max-w-5xl mx-auto">
          <h2 class="text-3xl font-bold text-[#004D40] mb-8 text-center" data-aos="fade-up">Наш офис</h2>
          
          <div class="map-container rounded-xl overflow-hidden shadow-xl" data-aos="zoom-in">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2906.9013882371!2d76.9286!3d43.2567!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDPCsDE1JzI0LjEiTiA3NsKwNTUnNDMuMCJF!5e0!3m2!1sen!2skz!4v1620000000000!5m2!1sen!2skz" 
              width="100%" 
              height="450" 
              style="border:0;" 
              allowfullscreen="" 
              loading="lazy">
            </iframe>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  /* Circuit pattern animation */
  .circuit-pattern {
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='none' stroke='%23ffffff' stroke-width='0.25' d='M10,10 L90,10 L90,90 L10,90 Z'/%3E%3Cpath fill='none' stroke='%23ffffff' stroke-width='0.25' d='M30,10 L30,30 L10,30 M70,10 L70,30 L90,30 M10,70 L30,70 L30,90 M90,70 L70,70 L70,90'/%3E%3Cpath fill='none' stroke='%23ffffff' stroke-width='0.25' d='M30,30 L70,30 L70,70 L30,70 Z'/%3E%3C/svg%3E");
    background-size: 50px 50px;
    opacity: 0.1;
    animation: circuitPulse 8s ease-in-out infinite;
  }

  /* Eco particles */
  .eco-particles {
    position: absolute;
    inset: 0;
    background-image: radial-gradient(#C9E265 1px, transparent 1px);
    background-size: 30px 30px;
    opacity: 0.1;
    animation: particlesFade 5s ease-in-out infinite;
  }

  /* Eco badge */
  .eco-badge {
    background: rgba(201, 226, 101, 0.2);
    border-radius: 2rem;
    padding: 0.5rem 1.5rem;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(201, 226, 101, 0.3);
    color: white;
    font-weight: bold;
    transition: all 0.3s ease;
  }

  .eco-badge:hover {
    background: rgba(201, 226, 101, 0.3);
    transform: translateY(-2px);
  }

  /* Contact card */
  .contact-card {
    border-radius: 1rem;
    overflow: hidden;
    height: 100%;
    min-height: 350px;
    position: relative;
    transition: all 0.3s ease;
  }

  .contact-card:hover {
    transform: translateY(-5px);
  }

  .contact-card-inner {
    position: relative;
    height: 100%;
    width: 100%;
    border-radius: 1rem;
    overflow: hidden;
  }

  .contact-card-bg {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #0A7B76, #004D40);
    z-index: 0;
  }

  .contact-card-bg::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
    opacity: 0.3;
  }

  .contact-content {
    position: relative;
    z-index: 1;
    padding: 2rem;
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  .contact-icon {
    background: rgba(201, 226, 101, 0.2);
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .contact-form-card {
    background: white;
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: 0 10px 30px rgba(10, 123, 118, 0.1);
    transition: all 0.3s ease;
    border: 1px solid rgba(10, 123, 118, 0.05);
    height: 100%;
  }

  .contact-form-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(10, 123, 118, 0.15);
    border-color: rgba(10, 123, 118, 0.1);
  }

  .map-container {
    transition: all 0.3s ease;
  }

  .map-container:hover {
    box-shadow: 0 20px 40px rgba(10, 123, 118, 0.15);
  }

  /* Animations */
  @keyframes circuitPulse {
    0%, 100% { opacity: 0.1; transform: scale(1); }
    50% { opacity: 0.15; transform: scale(1.05); }
  }

  @keyframes particlesFade {
    0%, 100% { opacity: 0.1; }
    50% { opacity: 0.15; }
  }

  /* Wave animation */
  .wave-parallax > use {
    animation: wave-move 25s cubic-bezier(.55,.5,.45,.5) infinite;
  }

  .wave-parallax > use:nth-child(1) { animation-delay: -2s; }
  .wave-parallax > use:nth-child(2) { animation-delay: -3s; }
  .wave-parallax > use:nth-child(3) { animation-delay: -4s; }
  .wave-parallax > use:nth-child(4) { animation-delay: -5s; }

  @keyframes wave-move {
    0% { transform: translate3d(-90px,0,0); }
    100% { transform: translate3d(85px,0,0); }
  }
</style>

<script>
  // Initialize AOS animation library if available
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof AOS !== 'undefined') {
      AOS.init({
        duration: 800,
        easing: 'ease-out',
        once: false
      });
    }
    
    // Handle form submission
    const form = document.querySelector('form');
    const formSuccess = document.getElementById('form-success');
    const formError = document.getElementById('form-error');
    
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(form);
        
        fetch(form.action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        })
        .then(response => {
          if (response.ok) {
            form.reset();
            formSuccess.classList.remove('hidden');
            formError.classList.add('hidden');
            
            // Hide success message after 5 seconds
            setTimeout(() => {
              formSuccess.classList.add('hidden');
            }, 5000);
          } else {
            throw new Error('Form submission failed');
          }
        })
        .catch(error => {
          formError.classList.remove('hidden');
          formSuccess.classList.add('hidden');
          
          // Hide error message after 5 seconds
          setTimeout(() => {
            formError.classList.add('hidden');
          }, 5000);
          
          console.error('Error:', error);
        });
      });
    }
  });
</script> 